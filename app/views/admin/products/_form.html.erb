<%= form_for @product, url: form_url, html: { multipart: true } do |f| %>
  <%= render "shared/error_messages", f: f %>
  <div class="space-y-4">
    <div>
      <%= f.label :name, t("products.name"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
      <%= f.text_field :name, class: "block w-full p-2.5 mt-1 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500", placeholder: t("products.enter_name") %>
    </div>

    <div>
      <%= f.label :description, t("products.description"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
      <%= f.text_area :description, class: "block w-full p-2.5 mt-1 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500", placeholder: t("products.enter_description") %>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <%= f.label :price_cents, t("products.price_cents"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
        <%= f.number_field :price_cents, step: 0.01, class: "block w-full p-2.5 mt-1 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500", placeholder: t("products.enter_price") %>
      </div>

      <div>
        <%= f.label :currency, t("products.currency"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
        <%= f.select :currency, currency_options, {}, class: "block w-full p-2.5 mt-1 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>
      </div>
    </div>

    <div>
      <%= f.label :quantity_in_stock, t("products.quantity_in_stock"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
      <%= f.number_field :quantity_in_stock, class: "block w-full p-2.5 mt-1 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500", placeholder: t("products.enter_quantity_in_stock") %>
    </div>

    <div>
      <%= f.label :category_id, t("products.category"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
      <%= f.collection_select :category_id, @categories, :id, :name, {}, class: "block w-full p-2.5 mt-1 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>
    </div>

    <div>
      <%= f.label :images, t("products.image"), class: "block text-sm font-medium text-gray-900 dark:text-white" %>
      <%= f.file_field :images, multiple: true, class: "block w-full text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>

      <% if @product.images.attached? %>
        <div class="mt-4 grid grid-cols-2 gap-4">
          <% @product.images.each do |image| %>
            <div>
              <%= image_tag image, class: "w-full h-auto rounded-lg" %>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
    
    <div class="flex justify-end">
      <%= f.submit button_text, class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300" %>
    </div>
  </div>
<% end %>
